私有应用配置说明​
通过店铺后台创建私有应用，可以节省接入授权逻辑的流程，并且商家对应用拥有所有的管理权限。使用私有应用你可以在 SHOPLINE 后台内添加功能、使用 SHOPLINE API 直接访问商店数据或者使用店面 API 将在线商店扩展至其他平台。

这种类型的分发方式非常适用于需要大量定制化能力，同时对数据管理有较高要求的场景。不管你是自行研发还是雇佣第三方的开发者帮你实现，通过这种方式都可以帮助你快速获取到需要的能力。

你将学到什么​
私有应用的详细配置方法
如何管理你的私有应用
在此之前你可能需要了解​
SHOPLINE 应用的分发方式
不同分发方式的应用创建流程
如何完成一个私有应用的配置​
STEP 1 创建应用​
进入到应用市场的“应用模块”，点击“开发应用”进入到私有应用的管理列表
image.png

应用的基本信息
应用名称：作为记录和管理的标识使用
应用开发者：记录应用具体由谁创建，方便商家管理和后续维护
应用联系人邮箱：同样是记录标识，用户在使用过程中出现问题可以联系这个邮箱处理
image.png

STEP 2 配置权限范围​
点击应用列表的“编辑”，进入应用配置页
image.png

在安装和获取访问令牌之前，需要先配置好允许应用访问的权限范围；管理后台分别提供了Rest Admin API、Webhook 和 Storefornt API 的管理能力
image.png

集成后台API
决定应用可以调用哪些接口访问和操作店铺后台数据
比如：选中“编辑商品”，应用就可以访问关联“编辑商品”的相关 Rest Admin API，接口和权限的关联关系可参见：权限点列表
image.png

同时支持在这个模块下管理需要监听的事件
选择需要订阅的事件名称
通知URL：当店铺触发这个事件时，平台会将消息发送到填写的这个地址
事件版本：平台会固定每个季度更新一个API 版本，参见：API 版本管理说明，当订阅的事件版本下线时，平台会按照当前最旧的一个版本内容进行返回。
image.png

集成店面API
跟配置后台API 的逻辑类似，勾选之后，应用可以调用对应权限的接口。接口和权限的关联关系同样可以参见：权限点列表
image.png

STEP 3 安装应用​
设置好了权限之后，切换到“API 凭据”，点击“安装应用”即可建立店铺和应用的关联关系。
image.png

STEP 4 获取访问令牌​
安装应用之后，访问令牌就会出现。访问令牌有2种，取决于你在分配哪种类型的权限：
当分配了后台 API 权限时，将会生成 Access Token，用于请求 Rest Admin API
当分配了店铺 API 权限时，将会生成 Storefront Token ，用于请求 Storefront API
image.png

为了保证后台数据的安全，Access Token 需要完成身份验证才可以访问：查看后台API访问令牌时，系统会向你的登录邮箱发送验证码，填写正确的验证码后才能查看和复制 Access Token。
image.png

私有应用接入​
在获取访问令牌之后，应用可以使用令牌调用权限范围内的 API 。
私有应用无法像公共应用一样使用 App Bridge 和 应用代理等能力，应用不能集成在 SHOPLINE 后台，所以你还需要准备一个可以独立访问的应用入口。
关于令牌的使用限制，你需要查阅我们的授权说明文档
私有应用的管理​
修改权限范围​
在配置权限页面，你可以随时修改分配给应用的后台 API 权限和店铺 API 权限，权限的变更不需要修改 Token，平台会自动处理 Token 的可访问权限范围。

但需要注意，当你去掉一个之前已经分配给应用的权限时，会影响到应用访问对应的接口。所以在取消一个权限授权时，请确定应用确实已经不需要这个权限。

修改 webhook 事件订阅​
不管是新增还是取消事件订阅，都会在你保存后立即生效。 推送的 Webhook 没有消费，并不会对你的商店造成什么影响。但需要注意对于每一个推送，平台都要求应用返回一个成功回调，如果长期没有正确回调，平台将会认为这是一个无效订阅，并将订阅删除，此后商店触发事件时不会再给应用推送消息，直到你重新订阅它。详细规则可以参见：Webhook 管理机制

卸载应用​
在私有应用的管理页面，你可以随时卸载应用。被卸载后的应用，令牌将被撤销，无法继续访问店铺数据。重新安装时，平台会给应用分配一个新的访问令牌。

删除应用​
删除应用是一个不可逆的操作，删除后无法恢复。如果你只是想要暂时禁用应用，可以选择卸载而不是删除。

应用操作日志​
每一次的重要操作，我们都会记录在操作记录页面，你可以在这里查看或回溯应用的变更日志。image.png